{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prachi's Organics</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="{% static 'css/style.css' %}">

    <style>
        .modal-bg {
            backdrop-filter: blur(6px);
            background: rgba(0, 0, 0, 0.45);
        }
        .fade-in { animation: fadeIn .25s ease-out forwards; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-8px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>

<body class="bg-grey-100">
<!-- OFFER BAR (scrolls away) -->
<div id="offerBar" class="w-full bg-[#7FAC6E] text-white py-2 overflow-hidden">
    <div class="animate-offer-text whitespace-nowrap text-center text-sm md:text-base">
        ðŸŽ‰ Flat 20% OFF on all organic skincare â€¢ Free Shipping over â‚¹999 â€¢ Cash on Delivery Available ðŸŽ‰
    </div>
</div>

<style>
@keyframes offerScroll {
    0% { transform: translateX(100%); }
    100% { transform: translateX(-100%); }
}
.animate-offer-text {
    display: inline-block;
    animation: offerScroll 12s linear infinite;
}
</style>

<style>
    .header-offset {
        margin-top: 40px; /* âœ” FIXED: push header below offer bar */
    }
</style>
<!-- ================= HEADER ================= -->
<div class="header-offset">
<header id="mainHeader"
        class="fixed left-0 w-full z-50 bg-white/20 backdrop-blur-xl shadow-sm transition-all duration-300"
        style="top: 40px;">

        <div class="relative w-full px-6 py-4 flex items-center">
            <!-- increased px from 4 â†’ 6 -->

            <!-- HAMBURGER - shifted further left using left-2 -->
            <div class="absolute left-4 text-3xl cursor-pointer text-[#7FAC6E] hover:text-[#8B4513]" onclick="openMenu()">
                <i class="fas fa-bars"></i>
            </div>

            <!-- CENTER LOGO + TEXT -->
            <a href="/" class="w-full flex justify-center items-center space-x-4">

                <div class="h-12 flex items-center">
                    <img src="/media/icons/logo_po.png"
                         class="h-full scale-125 md:scale-[2.2] object-contain "
                         alt="Logo">
                </div>

                <span
                    class="text-2xl md:text-3xl font-serif font-normal"
                    style="
                        color: #B98A5A;
                        -webkit-text-stroke: 0.5px #CFA278;
                    "
                ></span>

            </a>

            <!-- RIGHT ICONS - evenly spaced -->
            <div class="flex items-center gap-4 text-brandBrown text-sm font-medium">

                {% if request.user.is_authenticated %}
                  <a href="/profile/" class="text-[#7FAC6E] hover:text-[#8B4513]"><i class="fa-regular fa-user"></i></a>
                  <a href="/logout/" class="text-[#7FAC6E] hover:text-[#8B4513]"><i class="fa-solid fa-right-from-bracket"></i></a>
                {% else %}
                  <a href="/login/" class="text-[#7FAC6E] hover:text-[#8B4513"><i class="fa-regular fa-user"></i> </a>
                  <a href="/signup/" class="text-[#7FAC6E] hover:text-[#8B4513"><i class="fa-solid fa-user-plus"></i> </a>
                {% endif %}
                <a href="/cart/" class="relative text-[#7FAC6E] hover:text-[#8B4513]"><i class="fa fa-shopping-cart"></i> 
                  <span
                        class="absolute -top-2 -right-3 bg-black text-white text-xs
                               w-4 h-4 flex items-center justify-center rounded-full">
                        {{ cart_count }}
                    </span></a>
              </div>
          </div>

</header>
    <script>
window.addEventListener("scroll", function () {
    const header = document.getElementById("mainHeader");

    if (window.scrollY > 10) {
        header.style.top = "0px";   // move header to top
    } else {
        header.style.top = "40px";  // push header under offer bar
    }
});
</script>

</div>


<div class="pt-10"></div>

<!-- =============== MOBILE MENU DRAWER =============== -->
<div id="mobileMenu"
     class="fixed top-0 left-0 w-64 h-full bg-white shadow-xl transform -translate-x-full transition-transform duration-300 z-50">

    <div class="p-4 border-b flex justify-between items-center">
        <span class="text-xl font-semibold">Menu</span>
        <button onclick="closeMenu()" class="text-2xl">&times;</button>
    </div>

    <nav class="flex flex-col p-4 space-y-4 text-lg">

      <a href="/" class="hover:text-purple-600">Home</a>
  
      <!-- SHOP BY CATEGORY DROPDOWN -->
      <div>
          <button 
              onclick="toggleCategoryDropdown()" 
              class="w-full flex justify-between items-center hover:text-purple-600"
          >
              <span>Shop by Category</span>
              <span id="category-arrow" class="transition-transform">&#9662;</span>
          </button>
  
          <!-- Hidden dropdown -->
          <div id="category-dropdown" class="ml-4 mt-2 space-y-3 hidden">
              <a href="/products/?category=skin-care" class="block hover:text-purple-600">Face Care</a>
              <a href="/products/?category=hair-care" class="block hover:text-purple-600">Hair Care</a>
              <a href="/products/?category=body-care" class="block hover:text-purple-600">Body Care</a>
          </div>
      </div>
      <a href="/products" class="hover:text-purple-600">Shop All</a>
      <a href="/combos" class="hover:text-purple-600">Combos</a> 
      <a href="/track_order" class="hover:text-purple-600">Track Order</a>
      <a href="/about" class="hover:text-purple-600">About</a>
      <a href="/contact" class="hover:text-purple-600">Contact</a>
    </nav>
  
</div>

<script>
  function toggleCategoryDropdown() {
      const dropdown = document.getElementById('category-dropdown');
      const arrow = document.getElementById('category-arrow');
  
      dropdown.classList.toggle('hidden');
  
      // Rotate arrow when open
      arrow.classList.toggle('rotate-180');
  }
  </script>
  
<script>
function openMenu() {
    document.getElementById("mobileMenu").style.transform = "translateX(0)";
}
function closeMenu() {
    document.getElementById("mobileMenu").style.transform = "translateX(-100%)";
}
</script>

<script>
document.addEventListener("DOMContentLoaded", function () {
    const toggleBtn = document.getElementById("searchToggle");
    const searchInput = document.getElementById("headerSearch");

    // --- OPEN Search Bar ---
    toggleBtn.addEventListener("click", (e) => {
        e.stopPropagation(); // Prevent closing when clicking button itself

        toggleBtn.classList.add("hidden"); // Hide search icon

        // Expand search bar
        searchInput.classList.remove("hidden", "w-0", "opacity-0");
        searchInput.classList.add("w-64", "opacity-100");

        searchInput.focus();
    });

    // --- CLICK ANYWHERE OUTSIDE TO CLOSE (ONLY IF EMPTY) ---
    window.addEventListener("click", (e) => {
        // If click is inside search input â†’ do nothing
        if (searchInput.contains(e.target)) return;

        // If input has text â†’ DO NOT close
        if (searchInput.value.trim() !== "") return;

        // Collapse search bar only if empty
        searchInput.classList.remove("w-64", "opacity-100");
        searchInput.classList.add("w-0", "opacity-0");

        // Fully hide after animation delay
        setTimeout(() => {
            if (searchInput.value.trim() === "") {
                searchInput.classList.add("hidden");
                toggleBtn.classList.remove("hidden"); // Bring icon back
            }
        }, 250);
    });
});
</script>



<!-- ================= CONTENT ================= -->
<main>
    {% block content %}{% endblock %}
</main>

<!-- ================= FOOTER ================= -->
<footer class="mt-16 bg-white">
      <div class="container mx-auto px-4 py-12 grid md:grid-cols-4 gap-8 animate-fade-up">
        <!-- Brand -->
        <div>
          <div class="text-xl font-serif font-semibold mb-2">Prachi's Organics</div>
          <p class="text-sm text-gray-600">
            {{ site_settings.brand_tagline|default:"Nourish your natural beauty with organic, cruelty-free care." }}
          </p>
        </div>

        <!-- Quick Links -->
        <div>
          <div class="font-semibold mb-2">Quick Links</div>
          <ul class="space-y-1 text-sm">
            <li><a class="hover:text-brandGreen" href="/products/">Shop</a></li>
            <li><a class="hover:text-brandGreen" href="/combos/">Combos</a></li>
            <li><a class="hover:text-brandGreen" href="/about/">About</a></li>
            <li><a class="hover:text-brandGreen" href="/contact/">Contact</a></li>
          </ul>
        </div>

        <div>
          <div class="font-semibold mb-2">Policies</div>
          <ul class="space-y-1 text-sm">
            <li><a class="hover:text-brandGreen" href="/terms/">Terms & Conditions</a></li>
            <li><a class="hover:text-brandGreen" href="/privacy/">Privacy Policy</a></li>
            <li><a class="hover:text-brandGreen" href="/returns/">Shipping & Returns</a></li>
            <li><a class="hover:text-brandGreen" href="/refund/">Cancellation & Refund Policy</a></li>
            <li><a class="hover:text-brandGreen" href="/track_order/">Track Order</a></li>
            <li><a class="hover:text-brandGreen" href="/faq/">FAQ</a></li>
          </ul>
        </div>

        <div id="wrapper-9cd199b9cc5410cd3b1ad21cab2e54d3">
          <div class="font-semibold mb-2">Our Location: </div>
          <div id="map-9cd199b9cc5410cd3b1ad21cab2e54d3"></div><script>(function () {
              var setting = {"query":"Simba's Chinese, Jaideo Singh Nagar, Bhandup (W, Kokan Nagar, Bhandup West, Mumbai, Maharashtra, India","width":312,"height":268,"satellite":false,"zoom":15,"placeId":"ChIJRQIC1vW55zsRQbXVmp-2YUI","cid":"0x4261b69f9ad5b541","coords":[19.1444918,72.9284804],"cityUrl":"/india/mumbai","cityAnchorText":"Map of Mumbai, Maharashtra, India","lang":"us","queryString":"Simba's Chinese, Jaideo Singh Nagar, Bhandup (W, Kokan Nagar, Bhandup West, Mumbai, Maharashtra, India","centerCoord":[19.1444918,72.9284804],"id":"map-9cd199b9cc5410cd3b1ad21cab2e54d3","embed_id":"1295363"};
              var d = document;
              var s = d.createElement('script');
              s.src = 'https://1map.com/js/script-for-user.js?embed_id=1295363';
              s.async = true;
              s.onload = function (e) {
                window.OneMap.initMap(setting)
              };
              var to = d.getElementsByTagName('script')[0];
              to.parentNode.insertBefore(s, to);
            })();</script></div>

        <!-- Contact -->
        <div>
          <div class="font-semibold mb-2">Contact Us</div>
          <ul class="space-y-1 text-sm">
            <li>{{ site_settings.support_phone|default:'+91 95144 15599' }}</li>
            <li>{{ site_settings.support_email|default:'support@prachisorganics.com' }}</li>
          </ul>
        </div>



        <!-- Social Media -->
        <div>
          <div class="font-semibold mb-2">Follow Us</div>
          <div class="flex gap-4 text-brandBrown">
            <!-- Instagram -->
            <a href="{{ site_settings.instagram_url|default:'#' }}" target="_blank" rel="noopener"
              class="transition-transform hover:-translate-y-0.5 hover:text-brandGreen">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
                <path d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.9.3 2.4.5.6.2 1 .5 1.5 1s.8.9 1 1.5c.2.5.4 1.2.5 2.4.1 1.3.1 1.7.1 4.9s0 3.6-.1 4.9c-.1 1.2-.3 1.9-.5 2.4-.2.6-.5 1-1 1.5s-.9.8-1.5 1c-.5.2-1.2.4-2.4.5-1.3.1-1.7.1-4.9.1s-3.6 0-4.9-.1c-1.2-.1-1.9-.3-2.4-.5-.6-.2-1-.5-1.5-1s-.8-.9-1-1.5c-.2-.5-.4-1.2-.5-2.4C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.3-1.9.5-2.4.2-.6.5-1 1-1.5s.9-.8 1.5-1c.5-.2 1.2-.4 2.4-.5C8.4 2.2 8.8 2.2 12 2.2zm0 2.1c-3.1 0-3.5 0-4.7.1-1 .1-1.6.2-1.9.3-.5.2-.8.4-1.1.7-.3.3-.5.6-.7 1.1-.1.3-.2.9-.3 1.9-.1 1.2-.1 1.6-.1 4.7s0 3.5.1 4.7c.1 1 .2 1.6.3 1.9.2.5.4.8.7 1.1.3.3.6.5 1.1.7.3.1.9.2 1.9.3 1.2.1 1.6.1 4.7.1s3.5 0 4.7-.1c1-.1 1.6-.2 1.9-.3.5-.2.8-.4 1.1-.7.3-.3.5-.6.7-1.1.1-.3.2-.9.3-1.9.1-1.2.1-1.6.1-4.7s0-3.5-.1-4.7c-.1-1-.2-1.6-.3-1.9-.2-.5-.4-.8-.7-1.1-.3-.3-.6-.5-1.1-.7-.3-.1-.9-.2-1.9-.3-1.2-.1-1.6-.1-4.7-.1zm0 3.1a4.9 4.9 0 1 1 0 9.8 4.9 4.9 0 0 1 0-9.8zm0 2.1a2.8 2.8 0 1 0 0 5.7 2.8 2.8 0 0 0 0-5.7zm4.9-2.8a1.1 1.1 0 1 1 0 2.2 1.1 1.1 0 0 1 0-2.2z"/>
              </svg>
            </a>

            <!-- Facebook -->
            <a href="{{ site_settings.facebook_url|default:'#' }}" target="_blank" rel="noopener"
              class="transition-transform hover:-translate-y-0.5 hover:text-brandGreen">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
                <path d="M22 12a10 10 0 1 0-11.6 9.9v-7h-2v-3h2v-2.3c0-2 1.2-3.1 3-3.1.9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.2l-.4 3h-1.8v7A10 10 0 0 0 22 12"/>
              </svg>
            </a>

            <!-- Twitter (X) -->
            <a href="{{ site_settings.twitter_url|default:'#' }}" target="_blank" rel="noopener"
              class="transition-transform hover:-translate-y-0.5 hover:text-brandGreen">
              <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6">
                <path d="M18.36 2H21.2l-6.2 7.1L22 22h-6.8l-5.3-7-6 7H1.3l6.6-7.6L2 2h7l4.8 6.5L18.4 2h-.04Z"/>
              </svg>
            </a>
          </div>
        </div>
      </div>


      <div class="border-t py-4 text-xs text-gray-500">
        <div class="container mx-auto px-4 text-center">

          <div>Copyright Â© {{ now|default:2025 }} Prachi's Organics</div>
        </div>
      </div>
    </footer>

</body>
</html>
