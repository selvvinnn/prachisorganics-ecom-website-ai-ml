{% extends 'store/base.html' %}
{% load currency %}
{% load static %}
{% block title %}Prachi's Organics · Home{% endblock %}
{% block content %}

<style>
/* ---------------- GLOW BUTTON (GREEN BASE + BROWN GLOW) ---------------- */
.glow-on-hover {
    width: auto;
    padding: 12px 28px;
    display: inline-block;
    border: none;
    outline: none;
    color: #fff;
    background: #7FAC6E; /* GREEN BUTTON */
    cursor: pointer;
    position: relative;
    z-index: 0;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 500;
    transition:
        box-shadow 0.3s ease,
        transform 0.2s ease,
        background 0.2s ease;
}

/* Outer brown glowing border */
.glow-on-hover:before {
    content: '';
    background: linear-gradient(45deg,
        #B98A5A, #d7a87a, #B98A5A, #8c6844, #B98A5A
    );
    position: absolute;
    top: -3px;
    left: -3px;
    width: calc(100% + 6px);
    height: calc(100% + 6px);
    background-size: 300%;
    z-index: -1;
    filter: blur(6px);
    animation: glowing 8s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
    border-radius: 14px;
}

.glow-on-hover:hover:before {
    opacity: 1;
}

/* Inner glow + lift */
.glow-on-hover:hover {
    box-shadow:
        inset 0 0 12px rgba(185, 138, 90, 0.7),
        inset 0 0 20px rgba(185, 138, 90, 0.4);
    transform: translateY(-2px);
}

/* Surface */
.glow-on-hover:after {
    z-index: -1;
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: #7FAC6E;
    left: 0;
    top: 0;
    border-radius: 12px;
}

/* CLICKED → BROWN */
.glow-on-hover:active {
    background: #B98A5A !important;
    box-shadow: inset 0 0 12px rgba(0,0,0,0.4);
    transform: translateY(1px);
}

.glow-on-hover:active:after {
    background: #B98A5A;
}



/* ---------------- BROWN BUTTON (BROWN BASE + GREEN GLOW) ---------------- */
.glow-brown {
    width: auto;
    padding: 12px 28px;
    display: inline-block;
    border: none;
    outline: none;
    color: #fff;
    background: #B98A5A; /* BROWN BUTTON */
    cursor: pointer;
    position: relative;
    z-index: 0;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 500;
    transition:
        box-shadow 0.3s ease,
        transform 0.2s ease,
        background 0.2s ease;
}

/* Outer GREEN glowing border */
.glow-brown:before {
    content: '';
    background: linear-gradient(45deg,
        #7FAC6E, #9fce86, #7FAC6E, #5c804a, #7FAC6E
    );
    position: absolute;
    top: -3px;
    left: -3px;
    width: calc(100% + 6px);
    height: calc(100% + 6px);
    background-size: 300%;
    z-index: -1;
    filter: blur(6px);
    animation: glowing 8s linear infinite;
    opacity: 0;
    transition: opacity .3s ease-in-out;
    border-radius: 14px;
}

.glow-brown:hover:before {
    opacity: 1;
}

/* Inner green glow */
.glow-brown:hover {
    box-shadow:
        inset 0 0 12px rgba(127, 172, 110, 0.7),
        inset 0 0 20px rgba(127, 172, 110, 0.4);
    transform: translateY(-2px);
}

/* Surface */
.glow-brown:after {
    z-index: -1;
    content: '';
    position: absolute;
    width: 100%;
    height: 100%;
    background: #B98A5A;
    left: 0;
    top: 0;
    border-radius: 12px;
}

/* CLICKED → GREEN */
.glow-brown:active {
    background: #7FAC6E !important;
    box-shadow: inset 0 0 12px rgba(0,0,0,0.4);
    transform: translateY(1px);
}

.glow-brown:active:after {
    background: #7FAC6E;
}

.feature-marquee {
  width: 100%;
  overflow: hidden;
  background: #eef4ff; /* light pastel like screenshot */
  padding: 14px 0;
}

.feature-track {
  display: inline-flex;
  white-space: nowrap;
  gap: 40px;
  animation: marquee-scroll 10s linear infinite;
}

.feature-track span {
  font-size: 18px;
  font-weight: 500;
  color: #2f2f2f;
}

@keyframes marquee-scroll {
  from {
    transform: translateX(0);
  }
  to {
    transform: translateX(-30%);
  }
}

.feature-track span {
  font-size: 18px;
  font-weight: 500;
  color: #7FAC6E; /* brand green */
  letter-spacing: 0.3px;
}

/* Mobile optimization */
@media (max-width: 768px) {
  .feature-track span {
    font-size: 15px;
  }
}


@keyframes glowing {
    0% { background-position: 0% 0%; }
    50% { background-position: 200% 0%; }
    100% { background-position: 0% 0%; }
}


</style>

  <section class="relative h-[56vh] md:h-[70vh] overflow-hidden">
  <div class="absolute inset-0">
    <div id="hero-slides" class="h-full w-full relative">


      <!-- SLIDE 1 -->
      <div class="hero-slide absolute inset-0 opacity-100 transition-opacity duration-700 bg-cover bg-center"
           style="background-image: url('/media/products/PO Website Banner (1).jpg');">
        <div class="container mx-auto px-4 h-full flex items-center">
          <div class="bg-white/80 p-6 rounded max-w-lg">
            <h2 class="font-serif text-3xl md:text-4xl mb-3">Nurture Your Natural Glow!</h2>
            <p class="text-gray-700 mb-4">Handmade organic essentials for hair, skin and body❤️</p>
            <div class="flex gap-6">
              <a href="/products/?category=skin-care" class="glow-on-hover">Shop Skin</a>
              <a href="/products/" class="glow-brown">Explore All</a>
            </div>
          </div>
        </div>
      </div>


      <!-- SLIDE 2 -->
      <div class="hero-slide absolute inset-0 opacity-100 transition-opacity duration-700 bg-cover bg-center rounded-md overflow-hidden"
           style="background-image: url('https://images.pexels.com/photos/973401/pexels-photo-973401.jpeg');">
        <div class="container mx-auto px-4 h-full flex items-center">
          <div class="bg-white/80 p-6 rounded max-w-lg">
            <h2 class="font-serif text-3xl md:text-4xl mb-3">Healthy Hair, Naturally!</h2>
            <p class="text-gray-700 mb-4">Nourishing blends for strong, shiny hair❤️</p>
            <div class="flex gap-6">
              <a href="/products/?category=hair-care" class="glow-on-hover">Shop Hair</a>
              <a href="/combos/" class="glow-brown">View Combos</a>
            </div>
          </div>
        </div>
      </div>


      <!-- SLIDE 3 -->
      <div class="hero-slide absolute inset-0 opacity-100 transition-opacity duration-700 bg-cover bg-center rounded-md overflow-hidden"
           style="background-image: url('https://images.pexels.com/photos/6690884/pexels-photo-6690884.jpeg');">
        <div class="container mx-auto px-4 h-full flex items-center">
          <div class="bg-white/80 p-6 rounded max-w-lg">
            <h2 class="font-serif text-3xl md:text-4xl mb-3">Body Care, Clean & Kind!</h2>
            <p class="text-gray-700 mb-4">Gentle formulas crafted from nature❤️</p>
            <div class="flex gap-6">
              <a href="/products/?category=body-care" class="glow-on-hover">Shop Body</a>
              <a href="/products/" class="glow-brown">Best Sellers</a>
            </div>
          </div>
        </div>
      </div>


      <!-- DOTS -->
      <div class="absolute bottom-4 left-0 right-0 flex items-center justify-center gap-3 z-10">
        <div class="flex gap-2">
          <button class="hero-dot w-2.5 h-2.5 rounded-full bg-black/60 border border-white opacity-100"></button>
          <button class="hero-dot w-2.5 h-2.5 rounded-full bg-black/30 border border-white opacity-100"></button>
          <button class="hero-dot w-2.5 h-2.5 rounded-full bg-black/30 border border-white opacity-100"></button>
        </div>
      </div>

    </div>
  </div>


  <!-- SLIDER SCRIPT -->
  <script>
    (function () {
      const slides = document.querySelectorAll('.hero-slide');
      const dots = document.querySelectorAll('.hero-dot');
      let i = 0;
      let timer;

      function show(idx) {
        slides.forEach((s, si) => {
          s.style.opacity = si === idx ? '1' : '0';
          s.style.zIndex = si === idx ? '1' : '0';
        });

        dots.forEach((d, di) => {
          d.style.backgroundColor = di === idx ? 'rgba(255,255,255,0.9)' : 'rgba(255,255,255,0.3)';
        });

        i = idx;
      }

      function nextSlide() { show((i + 1) % slides.length); }
      function auto() { clearInterval(timer); timer = setInterval(nextSlide, 5000); }

      dots.forEach((d, di) => d.addEventListener('click', () => { show(di); auto(); }));

      show(0);
      auto();
    })();
  </script>

</section>



<!--

<section class="relative h-[56vh] md:h-[70vh] overflow-hidden">
<div class="hero-slide absolute inset-0 opacity-100 transition-opacity duration-700 bg-cover bg-center"
     style="background-image: url('/media/products/PO Website Banner (1).jpg');">
  
  <div class="container mx-auto px-4 h-full flex items-center">
    <div class="bg-white/80 p-6 rounded max-w-lg">
      <h2 class="font-serif text-3xl md:text-4xl mb-3">Nurture Your Natural Glow</h2>
      <p class="text-gray-700 mb-4">Handmade organic essentials for hair, skin and body.</p>

      <div class="flex gap-3">
        <a href="/products/?category=skin-care" class="bg-brandGreen text-white px-5 py-2 rounded">Shop Skin</a>
        <a href="/products/" class="bg-brandBrown text-white px-5 py-2 rounded">Explore All</a>
      </div>

    </div>
  </div>

</div>
 
        <div class="hero-slide absolute inset-0 opacity-0 transition-opacity duration-700 bg-cover bg-center" style="background-image:url('https://images.pexels.com/photos/973401/pexels-photo-973401.jpeg');">
          <div class="container mx-auto px-4 h-full flex items-center">
            <div class="bg-white/80 p-6 rounded max-w-lg">
              <h2 class="font-serif text-3xl md:text-4xl mb-3">Healthy Hair, Naturally</h2>
              <p class="text-gray-700 mb-4">Nourishing blends for strong, shiny hair.</p>
              <div class="flex gap-3">
                <a href="/products/?category=hair-care" class="bg-brandGreen text-white px-5 py-2 rounded">Shop Hair</a>
                <a href="/combos/" class="bg-brandBrown text-white px-5 py-2 rounded">View Combos</a>
              </div>
            </div>
          </div>
        </div>
        <div class="hero-slide absolute inset-0 opacity-0 transition-opacity duration-700 bg-cover bg-center" style="background-image:url('https://images.pexels.com/photos/6690884/pexels-photo-6690884.jpeg');">
          <div class="container mx-auto px-4 h-full flex items-center">
            <div class="bg-white/80 p-6 rounded max-w-lg">
              <h2 class="font-serif text-3xl md:text-4xl mb-3">Body Care, Clean & Kind</h2>
              <p class="text-gray-700 mb-4">Gentle formulas crafted from nature.</p>
              <div class="flex gap-3">
                <a href="/products/?category=body-care" class="bg-brandGreen text-white px-5 py-2 rounded">Shop Body</a>
                <a href="/products/" class="bg-brandBrown text-white px-5 py-2 rounded">Best sellers</a>
              </div>
            </div>
          </div>
        </div>

        <div class="absolute bottom-4 left-0 right-0 flex items-center justify-center gap-3 z-10">

          <div class="flex gap-2">
            <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/60 border border-white opacity-30"></button>
            <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/30 border border-white opacity-30"></button>
            <button class="hero-dot w-2.5 h-2.5 rounded-full bg-white/30 border border-white opacity-30"></button>
          </div>

        </div>
      </div>
    </div>
    <script>
      (function(){
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.hero-dot');
        const prev = document.getElementById('hero-prev');
        const next = document.getElementById('hero-next');
        let i = 0; let timer;
        function show(idx){
          slides.forEach((s, si)=>{ s.style.opacity = si === idx ? '1' : '0'; s.style.zIndex = si === idx ? '1' : '0'; });
          dots.forEach((d, di)=>{ d.style.backgroundColor = di === idx ? 'rgba(255,255,255,0.9)' : 'rgba(255,255,255,0.3)'; });
          i = idx;
        }
        function nextSlide(){ show((i+1)%slides.length); }
        function prevSlide(){ show((i-1+slides.length)%slides.length); }
        function auto(){ clearInterval(timer); timer = setInterval(nextSlide, 5000); }
        dots.forEach((d, di)=> d.addEventListener('click', ()=>{ show(di); auto(); }));
        if(prev) prev.addEventListener('click', ()=>{ prevSlide(); auto(); });
        if(next) next.addEventListener('click', ()=>{ nextSlide(); auto(); });
        show(0); auto();
      })();
    </script>
  </section>

-->
<!--
  <section class="container mx-auto px-4 mt-6">
  <div class="bg-white rounded-2xl border p-5 text-lg flex items-center gap-5 overflow-x-auto whitespace-nowrap shadow-sm">
    <span class=" font-serif text-gray-500 font-medium">Trending:</span>
    <a class="px-5 py-2 rounded-full border hover:border-brandGreen transition-colors duration-200 rounded-full hover:bg-brandGreen hover:text-white transition" href="/products/hair-shampoo/">
      Aloe Vera & Rosemary Hair Shampoo
    </a>
    <a class="px-5 py-2 rounded-full border hover:border-brandGreen transition-colors duration-200 rounded-full hover:bg-brandGreen hover:text-white transition" href="/products/?category=skin-care">
      Skin Care
    </a>
    <a class="px-5 py-2 rounded-full border hover:border-brandGreen transition-colors duration-200 rounded-full hover:bg-brandGreen hover:text-white transition" href="/products/?category=body-care">
      Body Care
    </a>
  </div> 
</section>
-->

<!-- Infinite Feature Slider -->
<div class="feature-marquee">
  <div class="feature-track">
    <span>Handmade Organic Products</span>
    <span>•</span>
    <span>Cruelty Free</span>
    <span>•</span>
    <span>Eco-Friendly & Recyclable</span>
    <span>•</span>

    <!-- duplicate for seamless loop -->
    <span>Handmade Organic Products</span>
    <span>•</span>
    <span>Cruelty Free</span>
    <span>•</span>
    <span>Eco-Friendly & Recyclable</span>
    <span>•</span>

    <span>Handmade Organic Products</span>
    <span>•</span>
    <span>Cruelty Free</span>
    <span>•</span>
    <span>Eco-Friendly & Recyclable</span>
    <span>•</span>
  </div>
</div>


   <!-- Featured Products -->
<section class="container mx-auto px-4 py-12 text-center">
  <h2 class="font-serif text-3xl mb-8 bg-center">Best Sellers</h2>

  <!-- MOBILE: Horizontal scroll -->
  <div class="flex md:hidden gap-5 overflow-x-auto snap-x snap-mandatory pb-4">
    {% for product in featured_products %}
      <a href="/products/{{ product.slug }}/"
         class="snap-center min-w-[65%] bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition overflow-hidden">
        
        <div class="aspect-[3/4] relative bg-brandBeige overflow-hidden">
          {% if product.image %}
            <img src="{{ product.image.url }}" 
                 alt="{{ product.name }}"
                 class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"/>
          {% endif %}
        </div>

        <div class="p-4 text-left">
          <div class="font-semibold line-clamp-1">{{ product.name }}</div>
          {% with avg=product.average_rating total=product.total_reviews %}
  <div class="flex items-center gap-1 text-yellow-500 text-sm mt-1">

      {% for i in "12345" %}
          {% if forloop.counter <= avg %}
              ★
          {% else %}
              ☆
          {% endif %}
      {% endfor %}

      <span class="text-gray-500 ml-1 text-xs">({{ total }})</span>
  </div>
{% endwith %}

          <div class="mt-1 flex items-center gap-2">
            <div class="text-brandGreen font-semibold">
              {% if product.sale_price %}
                {{ product.sale_price|inr }}
              {% else %}
                {{ product.price|inr }}
              {% endif %}
            </div>
            {% if product.sale_price %}
              <div class="text-gray-400 line-through text-sm">{{ product.price|inr }}</div>
            {% endif %}
          </div>
        </div>

      </a>
    {% endfor %}
  </div>

  <!-- DESKTOP/TABLET: Grid layout -->
  <div class="hidden md:grid md:grid-cols-3 lg:grid-cols-4 gap-6 lg:gap-9 align-center">
    {% for product in featured_products %}
      <a href="/products/{{ product.slug }}/" class="group bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition overflow-hidden">
        <div class="aspect-[3/4] bg-brandBeige relative overflow-hidden">
          {% if product.image %}
            <img loading="lazy" class="absolute inset-0 w-full h-full object-cover group-hover:scale-105 transition-transform duration-500" 
                 src="{{ product.image.url }}" alt="{{ product.name }}"/>
          {% endif %}
        </div>
        <div class="p-4 text-left">
          <div class="font-semibold line-clamp-1">{{ product.name }}</div>
          {% with avg=product.average_rating total=product.total_reviews %}
  <div class="flex items-center gap-1 text-yellow-500 text-sm mt-1">

      {% for i in "12345" %}
          {% if forloop.counter <= avg %}
              ★
          {% else %}
              ☆
          {% endif %}
      {% endfor %}

      <span class="text-gray-500 ml-1 text-xs">({{ total }})</span>
  </div>
{% endwith %}

          <div class="mt-1 flex items-center gap-2">
            <div class="text-brandGreen font-semibold">
              {% if product.sale_price %}
                {{ product.sale_price|inr }}
              {% else %}
                {{ product.price|inr }}
              {% endif %}
            </div>
            {% if product.sale_price %}
              <div class="text-gray-400 line-through text-sm">{{ product.price|inr }}</div>
            {% endif %}
          </div>
        </div>
      </a>
    {% endfor %}
  </div>

  <div class="mt-6 text-center">
    <a href="/products/" 
       class="inline-block px-5 py-2 border border-brandGreen text-brandGreen rounded-full hover:bg-brandGreen hover:text-[#8B4513] transition">
       View More
    </a>
  </div>
</section>

<section class="container mx-auto px-4 py-16 text-center overflow-hidden">
  <h2 class="font-serif text-3xl mb-12">What Our Customers Say</h2>

  <div class="relative max-w-6xl mx-auto review-wrapper">

    <!-- LEFT ARROW -->
    <button id="reviewPrev"
      class="review-arrow left">
      ‹
    </button>

    <!-- SLIDER -->
    <div class="review-track">
      {% for review in recent_reviews %}
      <div class="review-slide">
        <div class="review-inner">

          {% if review.photo %}
          <img src="{{ review.photo.url }}"
               class="review-image"
               alt="Review image">
          {% endif %}

          <p class="review-text">
            “{{ review.comment }}”
          </p>

          <div class="review-user">{{ review.user.username }}</div>

          <div class="review-stars">
            {% for i in "12345" %}
              {% if forloop.counter <= review.rating %}★{% else %}☆{% endif %}
            {% endfor %}
          </div>

        </div>
      </div>
      {% endfor %}
    </div>

    <!-- RIGHT ARROW -->
    <button id="reviewNext"
      class="review-arrow right">
      ›
    </button>

  </div>
</section>

  <style>
    /* =============================
   REVIEW SLIDER – FIXED
   ============================= */

.review-wrapper {
  position: relative;
  height: 420px;
}

.review-track {
  position: relative;
  width: 100%;
  height: 100%;
}

/* Base slide */
.review-slide {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0.85);
  opacity: 0;
  transition: all 0.5s ease;
  z-index: 0;
}

/* Card */
.review-inner {
  width: 340px;
  background: #fff;
  border-radius: 20px;
  padding: 24px;
  text-align: center;
  box-shadow: 0 18px 40px rgba(127, 172, 110, 0.2);
}

/* Image */
.review-image {
  width: 130px;
  height: 130px;
  object-fit: cover;
  border-radius: 18px;
  margin: 0 auto 16px;
}

/* Text */
.review-text {
  font-size: 14px;
  color: #555;
  margin-bottom: 14px;
}

.review-user {
  font-weight: 600;
  margin-bottom: 6px;
}

.review-stars {
  color: #f4b400;
}

/* CENTER */
.review-slide.center {
  transform: translate(-50%, -50%) scale(1);
  opacity: 1;
  z-index: 3;
}

.review-slide.center .review-inner {
  box-shadow:
    0 30px 70px rgba(127, 172, 110, 0.45),
    0 12px 28px rgba(127, 172, 110, 0.3);
}

/* LEFT */
.review-slide.left {
  transform: translate(-150%, -50%) scale(0.9);
  opacity: 0.6;
  z-index: 2;
}

/* RIGHT */
.review-slide.right {
  transform: translate(50%, -50%) scale(0.9);
  opacity: 0.6;
  z-index: 2;
}

/* ARROWS */
.review-arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: white;
  width: 42px;
  height: 42px;
  border-radius: 50%;
  box-shadow: 0 10px 25px rgba(127, 172, 110, 0.35);
  font-size: 22px;
  z-index: 5;
}

.review-arrow.left { left: -10px; }
.review-arrow.right { right: -10px; }

/* MOBILE */
@media (max-width: 768px) {
  .review-slide.left,
  .review-slide.right {
    display: none;
  }

  .review-inner {
    width: 90vw;
  }
}

    </style>
</section>


<script>
  document.addEventListener("DOMContentLoaded", () => {
    const slides = document.querySelectorAll(".review-slide");
    let current = 0;
  
    function update() {
      slides.forEach((slide, i) => {
        slide.className = "review-slide";
  
        if (i === current) {
          slide.classList.add("center");
        }
        else if (i === (current - 1 + slides.length) % slides.length) {
          slide.classList.add("left");
        }
        else if (i === (current + 1) % slides.length) {
          slide.classList.add("right");
        }
      });
    }
  
    document.getElementById("reviewNext").onclick = () => {
      current = (current + 1) % slides.length;
      update();
    };
  
    document.getElementById("reviewPrev").onclick = () => {
      current = (current - 1 + slides.length) % slides.length;
      update();
    };
  
    // Auto slide (optional)
    setInterval(() => {
      current = (current + 1) % slides.length;
      update();
    }, 6000);
  
    update();
  });
  </script>
  
  
  
  

  <section class="container mx-auto px-4 md:px-12 lg:px-24 py-12 text-center">
    <h2 class="font-serif text-3xl mb-8 bg-center">Shop by Category</h2>
  
    <!-- MOBILE: Horizontal slider -->
    <div class="flex md:hidden gap-5 overflow-x-auto snap-x snap-mandatory pb-4">
      {% for category in categories %}
        <a href="/products/?category={{ category.slug }}"
           class="snap-center min-w-[80%] bg-white rounded-xl shadow-sm overflow-hidden border border-gray-100">
  
          <div class="relative aspect-[3/4] bg-brandBeige overflow-hidden">
            {% if category.image %}
              <img src="{{ category.image.url }}"
                   alt="{{ category.name }}"
                   class="absolute inset-0 w-full h-full object-cover"/>
            {% endif %}
          </div>
  
          <div class="p-4 flex items-center justify-between">
            <div class="font-semibold">{{ category.name }}</div>
            <div class="text-brandGreen text-lg">→</div>
          </div>
        </a>
      {% endfor %}
    </div>
  
    <!-- DESKTOP/TABLET GRID -->
    <div class="hidden md:grid md:grid-cols-3 gap-10">
      {% for category in categories %}
        <a href="/products/?category={{ category.slug }}"
           class="group bg-white rounded-xl shadow overflow-hidden">
  
          <div class="relative h-80 bg-brandBeige overflow-hidden">
            {% if category.image %}
              <img src="{{ category.image.url }}"
                   alt="{{ category.name }}"
                   class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 opacity-100 group-hover:opacity-0"/>
            {% endif %}
            {% if category.hover_image %}
              <img src="{{ category.hover_image.url }}"
                   alt="{{ category.name }} hover"
                   class="absolute inset-0 w-full h-full object-cover transition-opacity duration-500 opacity-0 group-hover:opacity-100"/>
            {% endif %}
          </div>
  
          <div class="p-4 flex items-center justify-between">
            <div class="font-semibold">{{ category.name }}</div>
            <div class="text-brandGreen text-lg">→</div>
          </div>
        </a>
      {% endfor %}
    </div>
  </section>
  

  

  <section class="container mx-auto px-4 py-12 text-center">
  <h2 class="font-serif text-3xl mb-8 bg-center">Combo Deals</h2>

  <!-- MOBILE: Horizontal scroll -->
  <div class="flex md:hidden gap-5 overflow-x-auto snap-x snap-mandatory pb-4">
    {% for combo in combos %}
      <a href="{% url 'store:combo_detail' combo.slug %}"
         class="snap-center min-w-[65%] bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition overflow-hidden">

        <div class="aspect-[4/3] bg-brandBeige relative overflow-hidden">
          {% if combo.image %}
            <img src="{{ combo.image.url }}" alt="{{ combo.name }}"
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
          {% else %}
            <div class="absolute inset-0 flex items-center justify-center text-gray-500">No Image</div>
          {% endif %}
        </div>

        <div class="p-4 text-left">
          <div class="font-semibold mb-1 line-clamp-1">{{ combo.name }}</div>
          <div class="text-sm text-gray-600 line-clamp-2">{{ combo.description|truncatechars:90 }}</div>

          <div class="mt-2 font-semibold text-brandGreen">
            {{ combo.discounted_price|inr }}
            <span class="text-gray-400 line-through text-xs">{{ combo.original_price|inr }}</span>
          </div>
        </div>
      </a>
    {% endfor %}
  </div>

  <!-- DESKTOP/TABLET GRID -->
  <div class="hidden md:grid md:grid-cols-4 gap-6">
    {% for combo in combos %}
      <a href="{% url 'store:combo_detail' combo.slug %}"
         class="group bg-white rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition overflow-hidden">

        <div class="aspect-[4/3] bg-brandBeige relative overflow-hidden">
          {% if combo.image %}
            <img src="{{ combo.image.url }}" alt="{{ combo.name }}"
                 class="absolute inset-0 w-full h-full object-cover transition-transform duration-500 group-hover:scale-105">
          {% else %}
            <div class="absolute inset-0 flex items-center justify-center text-gray-500">No Image</div>
          {% endif %}
        </div>

        <div class="p-4 text-left">
          <div class="font-semibold mb-1 line-clamp-1">{{ combo.name }}</div>
          <div class="text-sm text-gray-600 line-clamp-2">{{ combo.description|truncatechars:90 }}</div>
          <div class="mt-2 font-semibold text-brandGreen">
            {{ combo.discounted_price|inr }}
            <span class="text-gray-400 line-through text-xs">{{ combo.original_price|inr }}</span>
          </div>
        </div>

      </a>
    {% endfor %}
  </div>

  <div class="mt-8">
    <a href="/combos/" class="inline-block px-5 py-2 border border-brandGreen text-brandGreen rounded-full hover:bg-brandGreen hover:text-[#8B4513] transition">
      View All Combos
    </a>
  </div>
</section>

  <section class="container mx-auto px-4 py-12 text-center">
    <h2 class="font-serif text-3xl mb-6 bg-center">Prachi's Organics Four Step Skin Care Routine</h2>
    <div class="grid md:grid-cols-4 gap-6">
      <div class="bg-white rounded shadow overflow-hidden">
        <div class="relative aspect-[3/4] bg-brandBeige">
          <img src="/media/routine/woman_cleanse.png" alt="Cleanse" class="absolute inset-0 w-full h-full object-cover" loading="lazy">
        </div>
        <div class="p-4">
          <div class="text-lg font-serif font-semibold">1. Wash </div>
          <p class="text-sm text-gray-600">Gently remove impurities to prep your skin.</p>
        </div>
      </div>
      <div class="bg-white rounded shadow overflow-hidden">
        <div class="relative aspect-[3/4] bg-brandBeige">
          <img src="/media/routine/facewash_po.png" alt="Tone" class="absolute inset-0 w-full h-full object-cover" loading="lazy">
        </div>
        <div class="p-4">
          <div class="text-lg font-serif font-semibold">2. Apply Face Wash/Cleanser</div>
          <p class="text-sm text-gray-600">Balance and hydrate for a fresh feel.</p>
        </div>
      </div>
      <div class="bg-white rounded shadow overflow-hidden">
        <div class="relative aspect-[3/4] bg-brandBeige">
          <img src="/media/routine/serum.png" alt="Treat" class="absolute inset-0 w-full h-full object-cover" loading="lazy">
        </div>
        <div class="p-4">
          <div class="text-lg font-serif font-semibold">3. Apply Vitamin E & C Face Serum</div>
          <p class="text-sm text-gray-600">Target specific concerns with serums.</p>
        </div>
      </div>
      <div class="bg-white rounded shadow overflow-hidden">
        <div class="relative aspect-[3/4] bg-brandBeige">
          <img src="/media/routine/sleep.png" alt="Moisturize" class="absolute inset-0 w-full h-full object-cover" loading="lazy">
        </div>
        <div class="p-4">
          <div class="text-lg font-serif font-semibold">4. Rest & Sleep Well</div>
          <p class="text-sm text-gray-600">Your skin repairs and renews while you sleep.</p>
        </div>
      </div>
    </div>
    </div>
  </section>

  
{% endblock %}


